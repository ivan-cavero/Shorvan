<div id="linksContainer" class="mt-4 space-y-2" />

<script type="module">
    function addLinkElement(fullUrl) {
        const container = document.getElementById('linksContainer');
        const linkElement = document.createElement('div');
        linkElement.className = "flex justify-between items-center bg-gray-800 p-2 rounded-lg";

        const linkText = document.createElement('p');
        linkText.className = "text-gray-100 flex-1";
        linkText.textContent = fullUrl;

        const copyBtn = document.createElement('button');
        copyBtn.className = "copyBtn px-2 py-1 bg-indigo-500 hover:bg-indigo-600 text-white font-bold rounded-md";
        copyBtn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-files"><path d="M20 7h-3a2 2 0 0 1-2-2V2"/><path d="M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z"/><path d="M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8"/></svg>';
        copyBtn.setAttribute('data-fullurl', fullUrl);
        copyBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(fullUrl);
            alert('Link copied to clipboard');
        });

        linkElement.appendChild(linkText);
        linkElement.appendChild(copyBtn);
        container.appendChild(linkElement);
    }

    document.addEventListener('DOMContentLoaded', () => {
        const savedLinks = JSON.parse(localStorage.getItem('savedLinks') || '[]');
        savedLinks.forEach((shortUrl) => {
            const fullUrl = `http://localhost:3000/${shortUrl}`;
            addLinkElement(fullUrl);
        });
    });
</script>
